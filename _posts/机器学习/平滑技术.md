拉普拉斯平衡，又称加1平衡。Add-one (Laplace) smoothing平滑技术



#### 2. 贝叶斯平滑

	预估互联网广告的点击率一个重要的技术手段是logistic regression模型，这个模型非常依赖特征的设计。每个广告的反馈ctr作为特征能极大地提升预估的准确性，所以每个广告的反馈ctr非常重要。

目前用得比较多的获取反馈ctr的方式是直接计算每个广告的历史ctr，这样的问题就是当该广告投放量比较少的时候（如新广告），历史ctr与实际ctr相差很大。如一个广告投放了100次，有2次点击，那么ctr就是2%，但是当这个广告投放量到了1000次的时候，点击只有10次，点击率是1%，这里就相差了一倍了。产生这种问题的的原因是投放量太少，数据有偏，所以如果每个广告在开始投放前就有了默认的一个展示数和点击数，即分子分母都加上一个比较大的常数，这样计算起ctr来就不会有那么大的偏差。这种方法叫做ctr平滑，通用的方法是在展示数和点击上面各自加一个常数，缓解低投放量带来的不准确性，使其接近其实际的CTR。

	考虑到经验贝叶斯方法的层次性质，做了两个假设。

- 假设一，所有的广告有一个自身的ctr，这些ctr服从一个Beta分布。
- 假设二，对于某一广告，给定展示次数时和它自身的ctr，它的点击次数服从一个伯努利分布 Binomial(I, ctr)。
  如果用r表示点击率，I表示展示，C表示点击。这两个假设可以用下面的数学表示。

... 省略。经过优化，可以求出一个$\alpha $ 和 $\beta$ 参数

当α和β的值都求出来以后（用alpha和beta表示），由ctr的先验分布，可以修正每个广告的ctr，也就是观测到的click/view，这个后验值可以用的公式计算：
$$
r= \frac{(C + \alpha)}{(I + \alpha + \beta)}
$$
